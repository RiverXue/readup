# XReadUp 英语学习平台功能需求文档

<div align="center">

![XReadUp](https://img.shields.io/badge/XReadUp-English_Learning_Platform-blue.svg)
![Version](https://img.shields.io/badge/Version-1.0.0-green.svg)
![Status](https://img.shields.io/badge/Status-Production_Ready-success.svg)

**基于真实新闻内容的AI驱动英语学习平台**

</div>

## 📋 文档概述

### 项目背景
XReadUp是一个基于真实新闻内容的AI辅助英语学习平台，通过GNews API获取全球实时新闻，结合智能词汇系统和AI学习助手，为学习者提供真实、有趣、高效的英语学习体验。

### 目标用户群体
- **考研学生**：需要提高英语阅读能力，关注时事
- **四六级考生**：需要真实语境下的英语学习
- **职场人士**：需要提升商务英语和时事理解能力
- **英语爱好者**：希望在学习语言的同时了解世界

### 核心价值主张
- **真实内容学习**：告别枯燥教材，学习真实新闻，了解世界动态
- **科学学习方法**：基于艾宾浩斯遗忘曲线的智能复习系统
- **AI智能辅助**：个性化学习指导和智能内容分析
- **完整学习闭环**：从内容获取到学习评估的完整学习体验

---

## 🎯 核心功能模块

### 1. 真实新闻学习系统

#### 1.1 新闻内容获取
**功能描述**：通过GNews API获取全球实时新闻内容

**核心特性**：
- 支持BBC、CNN、Reuters等权威媒体
- 实时更新，每日获取最新资讯
- 多语言支持，主要聚焦英文内容
- 智能分类，按主题和难度分级

**技术实现**：
```java
// GNews API集成
@Service
public class NewsService {
    public List<Article> fetchLatestNews(String category, String language) {
        // 调用GNews API获取新闻
        // 内容质量检测和过滤
        // 智能分类和难度评估
    }
}
```

#### 1.2 内容质量检测系统
**功能描述**：解决75%文章截断问题，确保内容完整性

**核心特性**：
- 三级质量评估（HIGH/MEDIUM/LOW）
- 智能内容完整性检测
- 用户友好的质量提示
- 内容质量统计分析

**技术实现**：
```java
public static class ContentQuality {
    public enum QualityLevel {
        HIGH,    // 高质量：内容完整，长度充足
        MEDIUM,  // 中等质量：内容基本完整，但可能较短
        LOW      // 低质量：内容可能被截断或不完整
    }
    
    private final QualityLevel quality;
    private final String reason;
    private final int confidence; // 0-100，置信度
}
```

**业务价值**：
- ✅ 解决了75%文章被截断的问题
- ✅ 显著提升用户体验和内容质量
- ✅ 数据驱动的质量改进

#### 1.3 智能内容分段
**功能描述**：基于标点符号和语义边界的智能分段

**核心特性**：
- 多级分段策略
- 语义完整性保证
- 双语同步机制
- 短段落智能合并

**技术实现**：
```java
public List<String> splitContent(String content) {
    // 按句号、问号、感叹号分段
    // 考虑语义完整性
    // 短段落智能合并
    // 双语同步处理
}
```

### 2. 生词本学习系统

#### 2.1 智能查词功能
**功能描述**：点击查词，AI增强释义，支持上下文区分

**核心特性**：
- 多级词汇缓存策略
- 上下文相关释义
- AI增强词汇解释
- 一键添加到生词本

**技术实现**：
```java
public WordInfo getWordInfo(String word, String context) {
    // 1. 查询本地缓存
    WordInfo localWord = getLocalWord(word, context);
    if (localWord != null) return localWord;
    
    // 2. 查询共享缓存
    WordInfo sharedWord = getSharedWord(word, context);
    if (sharedWord != null) return sharedWord;
    
    // 3. AI生成
    return generateWordByAI(word, context);
}
```

#### 2.2 三种学习模式

##### 2.2.1 闪卡式批量复习
**功能描述**：以闪卡形式批量复习单词，根据艾宾浩斯记忆曲线

**核心特性**：
- 系统自动筛选今日需复习单词
- 闪卡式交互界面
- 科学复习时间安排
- 学习进度可视化

**技术实现**：
```java
// 艾宾浩斯遗忘曲线算法
private LocalDate calculateNextReviewDate(String newStatus) {
    LocalDate today = LocalDate.now();
    
    if ("new".equals(newStatus)) {
        return today;           // 新单词：当天复习
    } else if ("learning".equals(newStatus)) {
        return today.plusDays(1);  // 学习中：1天后复习
    } else if ("mastered".equals(newStatus)) {
        return today.plusDays(3);  // 已掌握：3天后复习
    }
    
    return today.plusDays(1);
}
```

##### 2.2.2 单词速刷
**功能描述**：快速浏览大量单词，通过堆叠卡片视图进行高效复习

**核心特性**：
- 堆叠卡片视图设计
- 快速浏览模式
- 动态复习策略
- 适合查漏补缺

**UI设计**：
```vue
<!-- 堆叠卡片视图 -->
<div class="stack-cards">
  <div 
    v-for="(word, index) in visibleStackWords" 
    :key="word.id"
    :style="getStackCardStyle(index)"
    class="word-card"
  >
    <!-- 卡片内容 -->
  </div>
</div>
```

##### 2.2.3 批量听写
**功能描述**：支持批量听写练习，提升单词拼写能力

**核心特性**：
- 批量听写模式
- 语音朗读功能
- 拼写正确性检测
- 学习效果统计

#### 2.3 多用户词汇共享机制
**功能描述**：创新性的多用户词汇共享数据库设计

**核心特性**：
- 多用户共享同一词汇
- 上下文区分支持
- 来源追踪机制
- 存储空间优化

**数据库设计**：
```sql
CREATE TABLE word (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    word VARCHAR(100) NOT NULL,
    context VARCHAR(500),
    source VARCHAR(50), -- 'local' or 'ai'
    user_ids JSON, -- 存储使用该词汇的用户ID列表
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 3. AI学习助手系统

#### 3.1 全屏沉浸式对话界面
**功能描述**：全屏沉浸式AI助手界面，提供专业英语学习指导

**核心特性**：
- 全屏沉浸式设计
- 左右分栏布局
- 现代化UI设计
- 完美响应式适配

**UI设计**：
```vue
<template>
  <div class="ai-assistant-fullscreen">
    <div class="sidebar">
      <!-- 用户学习画像卡片 -->
      <!-- 当前文章信息卡片 -->
    </div>
    <div class="chat-area">
      <!-- 智能问题推荐区域 -->
      <!-- 对话历史区域 -->
      <!-- 输入区域 -->
    </div>
  </div>
</template>
```

#### 3.2 8种个性化问题推荐
**功能描述**：基于用户学习数据动态生成个性化问题

**问题类型**：
```typescript
const QUESTION_TYPES = {
  "personalized-progress": "个性化进度",    // 基于学习天数
  "category-improvement": "分类提升",      // 基于偏好分类
  "vocabulary-expansion": "词汇扩展",      // 基于词汇量
  "reading-efficiency": "阅读效率",        // 基于阅读时长
  "weakness-targeting": "薄弱提升",        // 基于薄弱环节
  "next-learning-path": "学习路径",        // 基于学习水平
  "achievement-based": "成就激励",         // 基于学习成就
  "vocabulary-consolidation": "词汇巩固"   // 基于词汇状态
}
```

#### 3.3 AI测验生成
**功能描述**：基于文章内容生成测验题

**核心特性**：
- 多种题型支持（选择题、填空题等）
- 难度分级
- 题目持久化存储
- 实时评分反馈

**技术实现**：
```java
@PostMapping("/api/ai/assistant/quiz")
public ApiResponse<Quiz> generateQuiz(@RequestBody QuizRequest request) {
    // 基于文章内容生成测验题
    // 支持多种题型
    // 难度分级处理
    // 题目持久化存储
}
```

#### 3.4 智能学习诊断
**功能描述**：智能识别学习薄弱环节，提供针对性建议

**核心特性**：
- 多维度学习分析
- 薄弱环节识别
- 个性化学习建议
- 学习效果评估

### 4. 学习报告系统

#### 4.1 学习等级评估
**功能描述**：基于多维度数据的智能学习水平评估

**评估标准**：
```typescript
const assessUserLevel = (learningDays, articlesRead, masteredWords, totalWords) => {
    const masteryRate = totalWords > 0 ? (masteredWords / totalWords) : 0
    
    if (learningDays >= 90 && articlesRead >= 50 && masteredWords >= 500 && masteryRate >= 0.8) return 'expert'
    if (learningDays >= 60 && articlesRead >= 30 && masteredWords >= 200 && masteryRate >= 0.7) return 'advanced'
    if (learningDays >= 30 && articlesRead >= 15 && masteredWords >= 50 && masteryRate >= 0.6) return 'intermediate'
    return 'beginner'
}
```

**等级标准**：
| 等级 | 学习天数 | 阅读文章 | 已掌握词汇 | 掌握率 | 说明 |
|------|---------|---------|-----------|--------|------|
| **Expert** | 90天+ | 50篇+ | 500个+ | 80%+ | 高学习效果 |
| **Advanced** | 60天+ | 30篇+ | 200个+ | 70%+ | 良好学习效果 |
| **Intermediate** | 30天+ | 15篇+ | 50个+ | 60%+ | 一般学习效果 |
| **Beginner** | 其他情况 | 其他情况 | 其他情况 | 其他情况 | 需要提升 |

#### 4.2 薄弱环节识别
**功能描述**：智能分析学习状态，识别需要提升的方面

**分析维度**：
- 学习坚持性分析
- 词汇掌握情况分析
- 阅读练习量分析
- 词汇巩固情况分析

#### 4.3 成就系统
**功能描述**：学习里程碑和进度追踪，激励持续学习

**成就类型**：
- 连续学习成就
- 词汇学习成就
- 阅读学习成就
- 综合学习成就

#### 4.4 周报功能
**功能描述**：每周学习总结和个性化建议

**核心特性**：
- 学习数据统计
- 进步情况分析
- 个性化建议
- 下周学习计划

### 5. 订阅管理系统

#### 5.1 四层订阅制商业模式
**功能描述**：设计四层订阅制商业模式，实现可持续的商业变现

**套餐设计**：
```typescript
const SUBSCRIPTION_PLANS = {
  "FREE": { 
    name: "免费版", 
    price: 0, 
    maxArticles: 30, 
    aiFeatures: false 
  },
  "BASIC": { 
    name: "基础版", 
    price: 7, 
    maxArticles: 100, 
    aiFeatures: false 
  },
  "PRO": { 
    name: "专业版", 
    price: 17, 
    maxArticles: 300, 
    aiFeatures: true 
  },
  "ENTERPRISE": { 
    name: "企业版", 
    price: 50, 
    maxArticles: -1, 
    aiFeatures: true 
  }
}
```

#### 5.2 权限控制系统
**功能描述**：基于用户画像的权限控制系统

**权限类型**：
- AI功能权限
- 内容访问权限
- 数据权限
- 功能使用权限

### 6. 内容安全系统

#### 6.1 敏感词过滤系统
**功能描述**：分级敏感词过滤机制，确保内容安全

**过滤策略**：
```java
// 高风险词汇直接拦截
private static final Set<String> HIGH_RISK_WORDS = Set.of(
    "terrorism", "bomb", "explosion", "massacre", "genocide",
    "nazi", "hitler", "fascism", "extremism",
    "法轮功", "六四", "天安门", "达赖", "台独", "港独", "疆独"
);

// 一般敏感词记录但允许通过
private static final Set<String> ENGLISH_SENSITIVE_WORDS = Set.of(
    "violence", "murder", "kill", "death", "suicide", "gun", "weapon",
    "porn", "pornography", "sex", "sexual", "nude", "naked",
    "drug", "cocaine", "heroin", "marijuana", "addiction"
);
```

**核心价值**：
- ✅ 高风险词汇直接拦截
- ✅ 一般敏感词记录但允许通过（新闻内容）
- ✅ 上下文分析和详细日志记录

---

## 🏗️ 技术架构

### 后端技术栈
- **Spring Boot 3.4.1**：主框架
- **Spring Cloud**：微服务架构
- **MySQL**：主数据库
- **Redis**：缓存数据库
- **MyBatis Plus**：ORM框架
- **Docker**：容器化部署

### 前端技术栈
- **Vue 3**：前端框架
- **TypeScript**：类型安全
- **Element Plus**：UI组件库
- **ECharts**：数据可视化
- **Pinia**：状态管理

### AI服务集成
- **DeepSeek AI**：高级AI功能
- **腾讯云翻译**：基础翻译服务
- **GNews API**：新闻内容获取

---

## 📊 核心数据指标

### 性能指标
- **响应时间**：< 10ms（词汇查询）
- **内容质量**：> 95% 文章完整性
- **缓存命中率**：> 90%
- **系统可用性**：> 99.5%

### 业务指标
- **用户学习效果**：掌握率 > 60%
- **内容质量提升**：解决75%文章截断问题
- **学习模式多样性**：3种学习模式
- **AI功能覆盖**：8种个性化问题推荐

---

## 🎯 产品价值

### 用户价值
- **真实内容学习**：告别枯燥教材，学习真实新闻
- **科学学习方法**：基于艾宾浩斯遗忘曲线的智能复习
- **个性化指导**：AI学习助手提供专业指导
- **完整学习体验**：从内容获取到学习评估的完整闭环

### 商业价值
- **订阅制模式**：现金流稳定，可预测性强
- **差异化竞争**：真实新闻内容形成独特优势
- **技术护城河**：AI技术和数据积累形成壁垒
- **可扩展性**：支持多用户群体和功能扩展

### 技术价值
- **创新数据库设计**：多用户词汇共享机制
- **智能内容处理**：内容质量检测和敏感词过滤
- **完整技术栈**：前后端分离，微服务架构
- **工程实践**：完善的异常处理和日志系统

---

## 🚀 未来规划

### 短期目标（3个月）
- 优化AI学习助手功能
- 增加更多学习模式
- 完善数据分析功能

### 中期目标（1年）
- 支持多语言学习
- 增加听力、口语练习功能
- 扩展用户群体

### 长期愿景（3年）
- 成为AI教育领域的领导者
- 构建完整的学习生态系统
- 实现平台化发展

---

*本文档版本：v1.0.0*  
*最后更新：2025年11月*  
*文档维护：ReadUp开发团队*
