# XReadUp 项目环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ===========================================
# 数据库配置
# ===========================================
# MySQL数据库配置
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_DATABASE=readup_ai
MYSQL_USERNAME=root
MYSQL_PASSWORD=123456

# MySQL连接池配置
MYSQL_MIN_IDLE=5
MYSQL_MAX_POOL_SIZE=15
MYSQL_IDLE_TIMEOUT=300000
MYSQL_MAX_LIFETIME=1800000
MYSQL_CONNECTION_TIMEOUT=30000

# ===========================================
# Redis配置
# ===========================================
# Redis缓存配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=123456
REDIS_TIMEOUT=5000

# Redis连接池配置
REDIS_MAX_ACTIVE=8
REDIS_MAX_IDLE=8
REDIS_MIN_IDLE=0
REDIS_MAX_WAIT=-1

# ===========================================
# 服务端口配置
# ===========================================
# 各微服务端口
GATEWAY_PORT=8080
USER_SERVICE_PORT=8081
ARTICLE_SERVICE_PORT=8082
REPORT_SERVICE_PORT=8083
AI_SERVICE_PORT=8084
ADMIN_SERVICE_PORT=8085

# ===========================================
# JWT配置
# ===========================================
# JWT认证配置
JWT_SECRET=readupSecretKey2025ForJWTAuthenticationWithStrongSecurity
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_TOKEN_PREFIX=Bearer
JWT_HEADER_STRING=Authorization

# ===========================================
# 第三方API配置
# ===========================================
# DeepSeek AI API配置
DEEPSEEK_API_KEY=YOUR_DEEPSEEK_API_KEY
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_TEMPERATURE=0.7
DEEPSEEK_MAX_TOKENS=2000

# 腾讯云翻译API配置
TENCENT_CLOUD_SECRET_ID=YOUR_TENCENT_SECRET_ID
TENCENT_CLOUD_SECRET_KEY=YOUR_TENCENT_SECRET_KEY
TENCENT_CLOUD_REGION=ap-beijing
TENCENT_CLOUD_ENDPOINT=tmt.tencentcloudapi.com

# GNews API配置
GNEWS_API_KEY=YOUR_GNEWS_API_KEY
GNEWS_BASE_URL=https://gnews.io/api/v4
GNEWS_MAX_RESULTS=100
GNEWS_LANGUAGE=en
GNEWS_COUNTRY=us

# ===========================================
# Nacos配置
# ===========================================
# Nacos服务发现配置
NACOS_SERVER_ADDR=localhost:8848
NACOS_NAMESPACE=
NACOS_GROUP=DEFAULT_GROUP

# ===========================================
# 服务间通信配置
# ===========================================
# AI服务URL配置
AI_SERVICE_URL=http://localhost:8084
AI_SERVICE_TIMEOUT=10000
AI_SERVICE_MAX_RETRIES=2

# ===========================================
# 用户安全配置
# ===========================================
# 用户密码安全配置
USER_PASSWORD_STRENGTH=8
USER_MAX_LOGIN_ATTEMPTS=5
USER_LOCK_DURATION=1800

# ===========================================
# 管理员配置
# ===========================================
# Knife4j文档配置
KNIFE4J_USERNAME=admin
KNIFE4J_PASSWORD=admin123
KNIFE4J_ENABLE=true
KNIFE4J_TITLE=管理服务API文档
KNIFE4J_DESCRIPTION=后台管理系统RESTful API接口文档
KNIFE4J_VERSION=1.0.0

# ===========================================
# 缓存配置
# ===========================================
# 文章缓存配置
ARTICLE_CACHE_TTL=3600
ARTICLE_LIST_CACHE_TTL=1800

# AI翻译缓存配置
AI_TRANSLATION_CACHE_TTL=7200
AI_TRANSLATION_CACHE_MAX_SIZE=5000

# 阅读体验缓存配置
READING_EXPERIENCE_CACHE_TTL=1800
READING_EXPERIENCE_CACHE_MAX_SIZE=2000

# 翻译服务缓存配置
TRANSLATION_CACHE_TTL=3600
TRANSLATION_CACHE_MAX_SIZE=10000
TRANSLATION_NEW_CACHE_TTL=7200
TRANSLATION_NEW_CACHE_MAX_SIZE=10000

# ===========================================
# 限流配置
# ===========================================
# 网关限流配置
GATEWAY_RATE_LIMIT_USER_REPLENISH_RATE=10
GATEWAY_RATE_LIMIT_USER_BURST_CAPACITY=20
GATEWAY_RATE_LIMIT_AI_REPLENISH_RATE=5
GATEWAY_RATE_LIMIT_AI_BURST_CAPACITY=10
GATEWAY_RATE_LIMIT_ADMIN_REPLENISH_RATE=30
GATEWAY_RATE_LIMIT_ADMIN_BURST_CAPACITY=60

# ===========================================
# CORS配置
# ===========================================
# 跨域配置
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173,http://127.0.0.1:5173,http://localhost:8081,http://127.0.0.1:8081
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# ===========================================
# 日志配置
# ===========================================
# 日志级别配置
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_XREADUP=DEBUG
LOG_LEVEL_MYBATIS=INFO
LOG_LEVEL_SPRING_CLOUD=INFO
LOG_LEVEL_SPRING_AI=DEBUG
LOG_LEVEL_GATEWAY=DEBUG
LOG_LEVEL_REDIS=INFO

# ===========================================
# 翻译服务配置
# ===========================================
# 翻译服务策略配置
TRANSLATION_PRIMARY_SERVICE=tencent
TRANSLATION_FALLBACK_SERVICE=ai
TRANSLATION_TIMEOUT=8000
TRANSLATION_MAX_ATTEMPTS=3
TRANSLATION_BACKOFF_DELAY=1000

# 新翻译系统配置
TRANSLATION_NEW_ENABLED=true
TRANSLATION_NEW_LOGGING_ENABLED=true
TRANSLATION_NEW_LOGGING_LEVEL=INFO
TRANSLATION_NEW_METRICS_ENABLED=true
TRANSLATION_NEW_METRICS_COLLECT_INTERVAL=300000

# ===========================================
# 阅读体验配置
# ===========================================
# 阅读体验功能配置
READING_EXPERIENCE_ENABLED=true
READING_LEARNING_MODE=true
READING_COLLABORATIVE_MODE=true
READING_QUALITY_ASSESSMENT=true

# ===========================================
# Feign配置
# ===========================================
# OpenFeign配置
FEIGN_CONNECT_TIMEOUT=5000
FEIGN_READ_TIMEOUT=5000
FEIGN_LOGGER_LEVEL=basic
FEIGN_CIRCUIT_BREAKER_ENABLED=false

# ===========================================
# 环境配置
# ===========================================
# Spring Profile配置
SPRING_PROFILES_ACTIVE=dev

# 应用名称配置
SPRING_APPLICATION_NAME=xreadup
